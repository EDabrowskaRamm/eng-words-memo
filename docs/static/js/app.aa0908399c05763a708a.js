webpackJsonp([1],{BqKw:function(e,t){},GFTS:function(e,t){},NHnr:function(e,t,a){"use strict";function s(e){a("k5bl")}function r(e){a("ed43")}function n(e){a("GFTS")}function o(e){a("fsH5")}function i(e){a("wtBm")}function l(e){a("OUZL")}function c(e){a("fRt6")}function u(e){a("BqKw")}Object.defineProperty(t,"__esModule",{value:!0});var d=a("7+uW"),m={data:function(){return{toggleNav:!1}},methods:{onLogout:function(){console.log("log out"),this.$store.dispatch("logout")}},computed:{auth:function(){return this.$store.getters.isAuthenticated}}},v=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("nav",{staticClass:"navbar navbar-expand-lg navbar-light"},[a("div",{staticClass:"container"},[a("router-link",{staticClass:"navbar-brand",attrs:{tag:"a",to:"/"}},[e._v("App")]),e._v(" "),a("button",{staticClass:"navbar-toggler",attrs:{type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},on:{click:function(t){e.toggleNav=!e.toggleNav}}},[a("span",{staticClass:"navbar-toggler-icon"})]),e._v(" "),a("transition",{attrs:{name:"slide-fade"}},[a("div",{staticClass:"collapse navbar-collapse",class:{show:e.toggleNav},attrs:{id:"navbarSupportedContent"}},[a("ul",{staticClass:"navbar-nav ml-auto"},[e.auth?e._e():a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link",attrs:{to:"/register","active-class":"active"}},[e._v("\n              Register\n            ")])],1),e._v(" "),e.auth?e._e():a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link",attrs:{to:"/login","active-class":"active"}},[e._v("\n              Login\n            ")])],1),e._v(" "),e.auth?a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link",attrs:{to:"/userAccount","active-class":"active"}},[e._v("\n              Your account\n            ")])],1):e._e(),e._v(" "),e.auth?a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link",attrs:{to:"/categories","active-class":"active"}},[e._v("\n              Categories\n            ")])],1):e._e(),e._v(" "),e.auth?a("li",{staticClass:"nav-item"},[a("a",{staticClass:"nav-link",on:{click:e.onLogout}},[e._v("Log out")])]):e._e()])])])],1)])},p=[],g={render:v,staticRenderFns:p},f=g,h=a("VU/8"),_=s,w=h(m,f,!1,_,null,null),$=w.exports,b={name:"app",components:{Navbar:$},created:function(){this.$store.dispatch("tryAutoLogin")}},C=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("div",{staticClass:"container"},[a("Navbar"),e._v(" "),a("router-view")],1)])},k=[],y={render:C,staticRenderFns:k},I=y,S=a("VU/8"),N=r,x=S(b,I,!1,N,null,null),T=x.exports,E=a("ESwS"),U=a.n(E),L=a("1mcD"),A=a.n(L),D=a("mtWM"),R=a.n(D),q=a("NYxO"),P=R.a.create({baseURL:"https://www.googleapis.com/identitytoolkit/v3/relyingparty"}),F=P,H=a("/ocq"),V={},j=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},O=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("p",[e._v("admin!!")])])}],B={render:j,staticRenderFns:O},K=B,M=a("VU/8"),W=n,J=M(V,K,!1,W,null,null),Y=J.exports,z=a("+cKO"),G={data:function(){return{email:"",password:"",loginError:!1}},validations:{email:{required:z.required,email:z.email},password:{required:z.required,minLength:Object(z.minLength)(6)}},methods:{login:function(){var e={email:this.email,password:this.password};this.$store.dispatch("registerError")&&(this.loginError=!0),this.$store.dispatch("login",{email:e.email,password:e.password})}}},Q=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("form",[a("h3",[e._v("Login")]),e._v(" "),a("div",{staticClass:"form-group",class:{invalid:e.$v.email.$error}},[a("i",{staticClass:"fa fa-envelope",attrs:{"aria-hidden":"true"}}),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],staticClass:"form-control",attrs:{"aria-describedby":"emailHelp",placeholder:"Email",type:"email",id:"email"},domProps:{value:e.email},on:{input:[function(t){t.target.composing||(e.email=t.target.value)},function(t){e.$v.email.$touch()}]}}),e._v(" "),e.$v.email.$error?a("p",{class:{invalid:e.$v.email.$error}},[e._v("\n        Please provide a valid email address\n      ")]):e._e()]),e._v(" "),a("div",{staticClass:"form-group",class:{invalid:e.$v.password.$error}},[a("i",{staticClass:"fa fa-lock",attrs:{"aria-hidden":"true"}}),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"form-control",attrs:{"aria-describedby":"passwordInput",placeholder:"Password",type:"password",id:"password"},domProps:{value:e.password},on:{input:[function(t){t.target.composing||(e.password=t.target.value)},function(t){e.$v.password.$touch()}]}}),e._v(" "),e.$v.password.$error?a("p",{class:{invalid:e.$v.password.$error}},[e._v("\n        Password should have at least "+e._s(e.$v.password.$params.minLength.min)+" characters\n      ")]):e._e()]),e._v(" "),a("button",{staticClass:"btn btn-outline-success",attrs:{type:"submit",name:"button",disabled:e.$v.$invalid},on:{click:function(t){t.preventDefault(),e.login(t)}}},[e._v("Login\n    ")]),e._v(" "),e.loginError?a("p",{staticClass:"invalid"},[e._v("Email or password are incorrect")]):e._e()])])},X=[],Z={render:Q,staticRenderFns:X},ee=Z,te=a("VU/8"),ae=o,se=te(G,ee,!1,ae,"data-v-404ef86c",null),re=se.exports,ne={data:function(){return{userName:"",email:"",password:"",registerError:!1}},validations:{email:{required:z.required,email:z.email},userName:{required:z.required,minLength:Object(z.minLength)(5)},password:{required:z.required,minLength:Object(z.minLength)(6)}},methods:{addUser:function(){var e={name:this.userName,email:this.email,password:this.password};this.$store.dispatch("registerError")&&(this.registerError=!0),this.$store.dispatch("register",e),this.userName="",this.email="",this.password="",this.$v.$reset()}}},oe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("form",[a("h3",[e._v("Register")]),e._v(" "),a("div",{staticClass:"form-group",class:{invalid:e.$v.userName.$error}},[a("i",{staticClass:"fa fa-user",attrs:{"aria-hidden":"true"}}),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.userName,expression:"userName"}],staticClass:"form-control",attrs:{"aria-describedby":"emailHelp",placeholder:"User name",type:"text",id:"userName"},domProps:{value:e.userName},on:{input:[function(t){t.target.composing||(e.userName=t.target.value)},function(t){e.$v.userName.$touch()}]}}),e._v(" "),e.$v.userName.$error?a("p",{class:{invalid:e.$v.userName.$error}},[e._v("\n        User name should have at least "+e._s(e.$v.userName.$params.minLength.min)+" letters\n      ")]):e._e()]),e._v(" "),a("div",{staticClass:"form-group",class:{invalid:e.$v.email.$error}},[a("i",{staticClass:"fa fa-envelope",attrs:{"aria-hidden":"true"}}),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],staticClass:"form-control",attrs:{"aria-describedby":"emailHelp",placeholder:"Email",type:"email",id:"email"},domProps:{value:e.email},on:{input:[function(t){t.target.composing||(e.email=t.target.value)},function(t){e.$v.email.$touch()}]}}),e._v(" "),e.$v.email.$error?a("p",{class:{invalid:e.$v.email.$error}},[e._v("\n        Please provide a valid email address\n      ")]):e._e()]),e._v(" "),a("div",{staticClass:"form-group",class:{invalid:e.$v.password.$error}},[a("i",{staticClass:"fa fa-lock",attrs:{"aria-hidden":"true"}}),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"form-control",attrs:{"aria-describedby":"passwordInput",placeholder:"Password",type:"password",id:"password"},domProps:{value:e.password},on:{input:[function(t){t.target.composing||(e.password=t.target.value)},function(t){e.$v.password.$touch()}]}}),e._v(" "),e.$v.password.$error?a("p",{class:{invalid:e.$v.password.$error}},[e._v("\n        Password should have at least "+e._s(e.$v.password.$params.minLength.min)+" characters\n      ")]):e._e()]),e._v(" "),a("button",{staticClass:"btn btn-outline-success",attrs:{type:"submit",name:"button",disabled:e.$v.$invalid},on:{click:function(t){t.preventDefault(),e.addUser(t)}}},[e._v("\n      Create account\n    ")]),e._v(" "),e.registerError?a("p",{staticClass:"invalid"},[e._v("This email address is already taken")]):e._e()])])},ie=[],le={render:oe,staticRenderFns:ie},ce=le,ue=a("VU/8"),de=i,me=ue(ne,ce,!1,de,"data-v-170684de",null),ve=me.exports,pe={data:function(){return{toggleCat:!1,categories:[this.category1],category1:{mainTitle:"Home",subTitles:["Kitchen","Living room","Bathroom"]}}}},ge=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ul",e._l(e.categories,function(t){return a("li",{staticClass:"category"},[a("i",{staticClass:"fa fa-pencil-square-o",attrs:{"aria-hidden":"true"}}),e._v(" "),a("p",[a("a",{attrs:{"data-toggle":"collapse",href:"#collapseExample",role:"button","aria-expanded":"false","aria-controls":"collapseExample"},on:{click:function(t){e.toggleCat=!e.toggleCat}}},[e._v(" "+e._s(e.category1.mainTitle)+"\n      ")])]),e._v(" "),a("transition-group",{attrs:{name:"slide-fade"}},e._l(e.category1.subTitles,function(t,s){return a("div",{key:s,staticClass:"collapse",class:{show:e.toggleCat},attrs:{id:"collapseExample"}},[a("div",{staticClass:"card card-body"},[a("p",[e._v(" "+e._s(t)+" ")]),e._v(" "),a("span",[a("a",{staticClass:"btn btn-outline-secondary",attrs:{role:"button"}},[e._v("Learn")]),e._v(" "),a("a",{staticClass:"btn btn-outline-dark",attrs:{role:"button"}},[e._v("Test")])])])])}))],1)}))},fe=[],he={render:ge,staticRenderFns:fe},_e=he,we=a("VU/8"),$e=l,be=we(pe,_e,!1,$e,null,null),Ce=be.exports,ke={components:{CategoryTmpl:Ce}},ye=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container categories"},[a("h3",[e._v("Choose category")]),e._v(" "),a("CategoryTmpl")],1)},Ie=[],Se={render:ye,staticRenderFns:Ie},Ne=Se,xe=a("VU/8"),Te=c,Ee=xe(ke,Ne,!1,Te,null,null),Ue=Ee.exports,Le={data:function(){return{}},methods:{saveAccountData:function(){console.log("changed data"),console.log(this.$store.getters.user.id)}},computed:{name:function(){return!!this.$store.getters.user&&this.$store.getters.user.name},email:function(){return!!this.$store.getters.user&&this.$store.getters.user.email},password:function(){return!!this.$store.getters.user&&this.$store.getters.user.password}},created:function(){this.$store.dispatch("fetchUser")}},Ae=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("form",[a("h3",[e._v("Your account")]),e._v(" "),a("div",{staticClass:"form-group"},[a("i",{staticClass:"fa fa-user",attrs:{"aria-hidden":"true"}}),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"name"}],staticClass:"form-control",attrs:{"aria-describedby":"nameHelp",type:"text",id:"name"},domProps:{value:e.name},on:{input:function(t){t.target.composing||(e.name=t.target.value)}}})]),e._v(" "),a("div",{staticClass:"form-group"},[a("i",{staticClass:"fa fa-envelope",attrs:{"aria-hidden":"true"}}),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],staticClass:"form-control",attrs:{"aria-describedby":"emailHelp",type:"email",id:"email"},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}})]),e._v(" "),a("div",{staticClass:"form-group"},[a("i",{staticClass:"fa fa-lock",attrs:{"aria-hidden":"true"}}),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"form-control",attrs:{"aria-describedby":"passwordInput",type:"password",id:"password"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}})]),e._v(" "),a("button",{staticClass:"btn btn-outline-success",attrs:{type:"submit",name:"button"},on:{click:function(t){t.preventDefault(),e.saveAccountData(t)}}},[e._v("Save account\n    ")])])])},De=[],Re={render:Ae,staticRenderFns:De},qe=Re,Pe=a("VU/8"),Fe=u,He=Pe(Le,qe,!1,Fe,null,null),Ve=He.exports;d.a.use(H.a);var je=[{path:"/admin",component:Y},{path:"/login",component:re},{path:"/register",component:ve},{path:"/categories",component:Ue},{path:"/userAccount",component:Ve}],Oe=new H.a({mode:"history",routes:je});d.a.use(q.a);var Be=new q.a.Store({state:{idToken:null,userId:null,user:null},mutations:{authUser:function(e,t){e.idToken=t.token,e.userId=t.userId},storeUser:function(e,t){e.user=t},clearAuthData:function(e){e.idToken=null,e.userId=null}},actions:{register:function(e,t){var a=e.commit,s=e.dispatch;F.post("/signupNewUser?key=AIzaSyALHfVfvRmXgkuvAeFJc5cSvyVFWwMcfrQ",{name:t.name,email:t.email,password:t.password,returnSecureToken:!0}).then(function(e){console.log(e),a("authUser",{token:e.data.idToken,userId:e.data.localId});var r=new Date,n=new Date(r.getTime()+1e3*e.data.expiresIn);localStorage.setItem("token",e.data.idToken),localStorage.setItem("expirationDate",n),localStorage.setItem("userId",e.data.localId),s("storeUser",t),Oe.replace("/userAccount")}).catch(function(e){console.log(e),s("registerError")})},registerError:function(){return!0},login:function(e,t){var a=e.commit,s=e.dispatch;F.post("/verifyPassword?key=AIzaSyALHfVfvRmXgkuvAeFJc5cSvyVFWwMcfrQ",{name:t.name,email:t.email,password:t.password,returnSecureToken:!0}).then(function(e){console.log(e);var t=new Date,s=new Date(t.getTime()+1e3*e.data.expiresIn);localStorage.setItem("token",e.data.idToken),localStorage.setItem("expirationDate",s),localStorage.setItem("userId",e.data.localId),a("authUser",{token:e.data.idToken,userId:e.data.localId}),Oe.replace("/userAccount")}).catch(function(e){console.log(e),s("registerError")})},tryAutoLogin:function(e){var t=e.commit,a=localStorage.getItem("token"),s=localStorage.getItem("userId"),r=localStorage.getItem("expirationDate"),n=new Date;return a?n>=r?(localStorage.removeItem("token"),localStorage.removeItem("userId"),localStorage.removeItem("expirationDate"),Oe.replace("/login"),null):void t("authUser",{token:a,userId:s}):(Oe.replace("/login"),null)},logout:function(e){(0,e.commit)("clearAuthData"),localStorage.removeItem("token"),localStorage.removeItem("userId"),localStorage.removeItem("expirationDate"),Oe.replace("/login")},storeUser:function(e,t){var a=(e.commit,e.state);a.idToken&&R.a.post("/users.json?auth="+a.idToken,t).then(function(e){console.log(e)}).catch(function(e){return console.log(e)})},fetchUser:function(e,t){var a=e.commit,s=e.state;s.idToken&&R.a.get("/users.json?auth="+s.idToken).then(function(e){var t=e.data,s=[];for(var r in t){var n=t[r];n.id=r,s.push(n)}a("storeUser",s[0])}).catch(function(e){return console.log(e)})}},getters:{user:function(e){return e.user},isAuthenticated:function(e){return null!==e.idToken}}});a("SSNS"),d.a.config.productionTip=!1,d.a.use(U.a),d.a.use(A.a),R.a.defaults.baseURL="https://eng-words-memo.firebaseio.com",R.a.defaults.headers.get.Accepts="application/json";var Ke=R.a.interceptors.request.use(function(e){return console.log("Request Interceptor",e),e}),Me=R.a.interceptors.response.use(function(e){return console.log("Response Interceptor",e),e});R.a.interceptors.request.eject(Ke),R.a.interceptors.response.eject(Me),new d.a({el:"#app",router:Oe,store:Be,render:function(e){return e(T)}})},OUZL:function(e,t){},SSNS:function(e,t){},ed43:function(e,t){},fRt6:function(e,t){},fsH5:function(e,t){},k5bl:function(e,t){},wtBm:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.aa0908399c05763a708a.js.map